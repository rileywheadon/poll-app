{% extends "polls/poll-base.html" %}

{% block poll_content %}

<div id="tier-list-{{ poll.id }}">

  <div class="w-[36rem] mt-4 border-2 dark:border-nord-4 rounded-xl w-full">

    {% for tier in ["S", "A", "B", "C", "D", "F"] %}
    <!-- Highlight tiers on hover: hover:cursor-default {% if tier == 'S' %} rounded-t-lg {% elif tier == 'F' %} rounded-b-lg {% endif %}  hover:border-4 hover:border-polll-blue -->
      <div class="flex flex-row h-16"> 
        <button 
          type="button" 
          id="{{ tier }}-label" 
          class="w-16 border-r-2 {% if not tier == 'F' %} border-b-2 {% endif %} border-nord-0 dark:border-nord-4 p-1 mt-[-1px] ml-[-1px] flex items-center justify-center hover:cursor-default" 
        >
          <span class="text-2xl
            {% if   tier == 'S' %} text-tier-S
            {% elif tier == 'A' %} text-tier-A
            {% elif tier == 'B' %} text-tier-B
            {% elif tier == 'C' %} text-tier-C
            {% elif tier == 'D' %} text-tier-D
            {% elif tier == 'F' %} text-tier-F
            {% endif %}
            ">
            {{ tier }}
          </span>
        </button>
        <div 
          id="{{ tier }}-content-{{ poll.id }}" 
          class="grow flex flex-row gap-1 justify-start {% if not tier == 'F' %} border-b-2 {% endif %} border-nord-0 p-1 dark:border-nord-4 mt-[-1px] ml-[-1px] hover:cursor-default tier-{{ tier }}" 
          onmousedown="handle_tier_select('{{ poll.id }}', '{{ tier }}')"
        >
        </div>
        
      </div>

    {% endfor %}
  </div>

  <div 
    id="tier-ans-container-{{ poll.id }}" 
    class="flex flex-wrap gap-2 w-fit h-fit mt-6"
  >
 
    {% for answer in poll.answers %}

      <div class="flex">
        <input
          class="hidden"
          type="text"
          name="answer_id"
          value="{{ answer.id }}"
        />
        <input
          class="hidden"
          type="text"
          name="answer_tier"
          value="X"
        />
        <button 
          type="button"
          class="tier-answer 
          flex items-center justify-center w-full h-full max-w-32
          rounded-lg cursor-default p-4 min-w-16
          border-2 border-gray-700 bg-gray-800 text-gray-400
          hover:text-gray-300 hover:border-polll-blue
          focus:border-polll-green peer-checked:text-gray-300"
        >
          {{ answer.answer }}
        </button>
      </div>

    {% endfor %}

  </div>

</div>

{% endblock %}
