{% extends "results/result-base.html" %}

<!-- TODO: Turn off padding for mobile -->
{% block result_content %}

  {% for result in poll.results %}
    <p>{{ result.value }}: {{ result.count }}</p>
  {% endfor %}

  {% if poll.response %}
    <p class="mt-2">You responded: {{ poll.response.value }}</p>
  {% endif %}
  <div id="poll-graph-{{ poll.id }}"></div>

  <script>
    // Suprisingly good bandwidth here
    graphInit(
      "scale", 
      {{ poll.id|safe }},
      {{ poll.results|safe }},
      {{ smooth_hist(poll.results, 0.25)|safe }}
    );
  </script>


{% endblock %}
