{% if not session.on_cooldown %}

<!-- Image + create container -->
<div class="flex flex-col h-full space-y-4 pb-2 pr-0 md:pr-6">

  <!-- Image row -->
  <div class="flex flex-row">

    <label class="rounded-md border-4 border-polll-blue m-2 has-[:checked]:border-polll-green" title="Choose One">
      <input 
        class="poll-create hidden"
        type="radio" 
        name="poll_type" 
        value="CHOOSE_ONE"
        onclick="update_answer_editor('choose_one')"
        checked
      >
      <img class="min-w-10" src="../../static/assets/choose-one.png"/>
    </label>

    <label class="rounded-md border-4 border-polll-blue m-2 has-[:checked]:border-polll-green" title="Choose Many">
      <input 
        class="poll-create hidden"
        type="radio" 
        name="poll_type" 
        value="CHOOSE_MANY"
        onclick="update_answer_editor('choose_many')"
      >
      <img class="min-w-10" src="../../static/assets/choose-many.png"/>
    </label>

    <label class="rounded-md border-4 border-polll-blue m-2 has-[:checked]:border-polll-green" title="Scale">
      <input 
        class="poll-create hidden"
        type="radio" 
        name="poll_type" 
        value="NUMERIC_SCALE"
        onclick="update_answer_editor('numeric_scale')"
      >
      <img class="min-w-10" src="../../static/assets/scale.png"/>
    </label>


    <label class="rounded-md border-4 border-polll-blue m-2 has-[:checked]:border-polll-green" title="Ranking">
      <input 
        class="poll-create hidden"
        type="radio" 
        name="poll_type" 
        value="RANKED_POLL"
        onclick="update_answer_editor('ranked_poll')"
      >
      <img class="min-w-10" src="../../static/assets/ranking.png"/>
    </label>


    <label class="rounded-md border-4 border-polll-blue m-2 has-[:checked]:border-polll-green" title="Tier List">
      <input 
        class="poll-create hidden"
        type="radio" 
        name="poll_type" 
        value="TIER_LIST"
        onclick="update_answer_editor('tier_list')"
      >
      <img class="min-w-10" src="../../static/assets/tier-list.png"/>
    </label>
    
  </div>




  <!-- Create input field -->
  <div class="flex flex-col grow border-2 border-neutral-600 rounded-md">

    <div id="question-lbl" class="px-4 pt-4 text-3xl"> 
      Choose One
    </div>

    <div class="px-10 pt-8 text-2xl"> 
      <input class="poll-create bg-transparent dark:text-white w-11/12 focus:outline-none font-light placeholder:text-neutral-400" 
        autocomplete="off"
        name="poll_question"
        placeholder="Write your poll of the day..."
      />
      <hr class="border border-neutral-600">
    </div>

    <div class="grow p-8">
      <div id="multiple-ans" class="flex flex-col justify-center">

        <div id="ans-types" class="unhidden">

          <!-- Multiple Answers -->
          <div id="answer-editor" class="flex flex-row">
            <button id="answer-add" 
              class="h-10 cursor-default" 
              hx-get="{{ url_for('home.create_answer') }}" 
              hx-swap="beforeend" 
              hx-target="#answer-list"
            >
              <i class="fa fa-plus text-xl text-polll-blue hover:text-polll-green"></i>
            </button>

            <div id="answer-list" class="flex flex-col grow">
              {% include "home/create-answer.html" %}
              {% include "home/create-answer.html" %}
            </div>

          </div>

        </div>

      </div>
      <!-- Custom scale endpoints input -->
        <div id="endpoint-container" class="hidden flex flex-col">

          <label class="inline-flex items-center cursor-pointer">
            <input onclick="toggle_custom_endpoints()" id="endpoint-toggle" type="checkbox" class="sr-only peer">
            <div class="
            relative w-11 h-6 bg-polll-blue rounded-xl 
            dark:border-gray-600 peer-checked:bg-polll-green
            peer peer-focus:outline-none
            peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all"></div>
            <span class="ml-2 text-sm font-light">Custom Endpoints</span>
          </label>

          <div id="endpoint-editor" class="hidden flex flex-row p-4 space-x-3 justify-center items-center">
            <input id="endpoint-left"
            class="w-0 font-light grow rounded-lg py-2 px-4 bg-nord-4 text-nord-0 dark:bg-nord-0 dark:text-nord-6 border-2 border-polll-blue placeholder:text-neutral-400 focus:outline-none focus:border-polll-green"
            placeholder="From..."
            name="endpoint-right"
            autocomplete="off">
    
            <input id="endpoint-right"
            class="w-0 font-light grow rounded-lg py-2 px-4 bg-nord-4 text-nord-0 dark:bg-nord-0 dark:text-nord-6 border-2 border-polll-blue placeholder:text-neutral-400 focus:outline-none focus:border-polll-green"
            placeholder="To..."
            name="endpoint-left"
            autocomplete="off">
          </div>
  
        </div>
      

    </div>

    <!-- Boards -->
    <div class="flex flex-row items-center mt-auto px-10 pb-2">

      <!-- SELECT BOARD -->
      <span class="mr-2">Select Boards:</span>

      {% for board in boards %}

        <label class="rounded-2xl px-3 mr-2 h-8 border border-polll-blue has-[:checked]:border-2 has-[:checked]:border-polll-green {% if board.name == 'General' %} border-polll-green {% endif %}">
          {{ board.name }}

          <!-- Very unfourtunate hack to prevent all from being unselected -->
          {% if board.name == 'General' %}
            <input class="poll-create hidden"
              name="poll_board"
              value="{{ board.id }}" 
            >
            <input
              class="hidden"
              type="checkbox"
              checked disabled
            >
          {% else %}
            <input 
              class="poll-create hidden" 
              name="poll_board"
              value="{{ board.id }}" 
              type="checkbox"
            >
          {% endif %}

        </label>

      {% endfor %}

    </div>

    <!-- Footer -->
    <div class="flex flex-row items-center px-10 p-6">

      <!-- HIDE USERNAME (hack?)--> 
       <div class="flex flex-row">Anonymous:
        <div class="pl-2 pt-1 flex flex-row relative">
          <input id="anon-toggle" class="poll-create peer opacity-0 z-10 w-8 h-8 absolute" name="poll_anonymous" type="checkbox">
          <span class="opacity-100 peer-checked:opacity-0 absolute justify-center items-center">
            <i class="text-xl fa-solid fa-eye"></i>
          </span>
          <span class="opacity-0 text-polll-blue peer-checked:opacity-100 absolute justify-center items-center">
            <i class="text-xl fa-solid fa-eye-slash"></i>
          </span>
        </div>
       </div>

      <!-- SUBMIT BUTTON -->
      <button class="rounded-lg bg-polll-blue hover:bg-polll-green text-nord-3 hover:text-nord-2 text-black py-2 px-4 ml-auto cursor-default"
        hx-get="{{ url_for('home.create_poll') }}"
        hx-target="#create-card"
        hx-swap="innerHTML"
        hx-include=".poll-create"
        hx-confirm="Once you create a poll, you won't be able to change it. Continue?"
      >
        <p class="font-base">Publish</p>
      </button>
    </div>

  </div>

</div>

{% else %}

<div class="flex flex-row text-center items-center justify-center py-16 select-none">
  <p class="text-2xl font-light">
    Sorry! We only allow users to make one poll a day.
    <br />
    <br />
    You'll be allowed to make another poll {{ format_time(session.user.next_poll_allowed)}}
  </p>
</div>

{% endif %} 


</div>





