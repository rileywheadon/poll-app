{% if not on_cooldown %}

<!-- TODO: Build mobile version (use breakpoints to change from row to col) -->
<!-- TODO: Add stars -->

<div class="flex flex-row">

  <!-- Options column with graphics + labels -->
  <!-- NOTE: temporary images, actual images should each be the same size -->
  <div class="flex flex-col px-4 py-4">

    <label class="p-2 rounded-md dark:bg-nord-4 border-4 border-nord-7 m-1 hover:m-0 hover:border-8 has-[:checked]:border-nord-10" title="Choose One">
      <input 
        class="poll-create hidden"
        type="radio" 
        name="poll_type" 
        value="CHOOSE_ONE"
        onclick="update_answer_editor('choose_one')"
        checked
      >
      <img class="w-24" src="../../static/assets/choose-one.png"/>
    </label>

    <label class="p-2 rounded-md dark:bg-nord-4 border-4 border-nord-7 m-1 hover:m-0 hover:border-8 has-[:checked]:border-nord-10" title="Choose Many">
      <input 
        class="poll-create hidden"
        type="radio" 
        name="poll_type" 
        value="CHOOSE_MANY"
        onclick="update_answer_editor('choose_many')"
      >
      <img class="w-24" src="../../static/assets/choose-many.png"/>
    </label>

    <label class="p-2 rounded-md dark:bg-nord-4 border-4 border-nord-7 m-1 hover:m-0 hover:border-8 has-[:checked]:border-nord-10" title="Scale">
      <input 
        class="poll-create hidden"
        type="radio" 
        name="poll_type" 
        value="NUMERIC_SCALE"
        onclick="update_answer_editor('numeric_scale')"
      >
      <img class="w-24" src="../../static/assets/scale.png"/>
    </label>


    <label class="p-2 rounded-md dark:bg-nord-4 border-4 border-nord-7 m-1 hover:m-0 hover:border-8 has-[:checked]:border-nord-10" title="Ranking">
      <input 
        class="poll-create hidden"
        type="radio" 
        name="poll_type" 
        value="RANKED_POLL"
        onclick="update_answer_editor('ranked_poll')"
      >
      <img class="w-24" src="../../static/assets/tier-list.png"/>
    </label>


    <label class="p-2 rounded-md dark:bg-nord-4 border-4 border-nord-7 m-1 hover:m-0 hover:border-8 has-[:checked]:border-nord-10" title="Tier List">
      <input 
        class="poll-create hidden"
        type="radio" 
        name="poll_type" 
        value="TIER_LIST"
        onclick="update_answer_editor('tier_list')"
      >
      <img class="w-24" src="../../static/assets/tier-list.png"/>
    </label>

  </div>

  <!-- Question editor-->
  <!-- TODO: make the input box expand downwards when exceeding the width of the screen-->
  <div class="flex flex-col grow border-2 border-nord-3 rounded-lg">

    <div class="px-10 pt-8  text-2xl"> 
      <input class="poll-create text-2xl bg-transparent dark:text-white w-11/12 focus:outline-none font-light" 
        autocomplete="off"
        name="poll_question"
        placeholder="Write your poll of the day..."
      />
      <hr>
    </div>

    <!-- 
    ANSWER INPUTS 
      - Choose one/many are the same thing (list of > 1 answers)
      - Scale is just the question (no answers needed)
      - Tier list/ranked is a little more complicated
    -->

    <div class="grow p-8">
      <div id="multiple-ans" class="flex flex-col justify-center">

        <!-- Answer types (hidden when scale is selected) -->
        <div id="ans-types" class="unhidden">

          <!-- Multiple Answers -->
          <div id="answer-editor" class="flex flex-row">
            <button id="answer-add" 
              class="h-10" 
              hx-get="{{ url_for('home.create_answer') }}" 
              hx-swap="beforeend" 
              hx-target="#answer-list"
            >
              <i class="fa fa-plus"></i>
            </button>

            <div id="answer-list" class="flex flex-col grow">
              {% include "home/create-answer.html" %}
              {% include "home/create-answer.html" %}
            </div>

          </div>

          <!-- Ranked -->
          <div id="ranked-answer-editor" class="hidden flex flex-col">
            TODO
          </div>  

          <!-- Tier List -->
          <div id="tier-list-answer-editor" class="hidden flex flex-col">
            TODO
          </div>

        </div>

      </div>
    </div>

    <!-- Footer -->
    <div class="flex flex-row items-center mt-auto px-10 pb-6">

      <!-- HIDE USERNAME -->
      <span class="mr-2">Hide my Username:</span>
      <input class="poll-create w-6 h-6" name="poll_anonymous" type="checkbox">
    
      <!-- SUBMIT BUTTON -->
      <button class="rounded-lg bg-nord-15 text-black py-2 px-4 ml-auto" 
        hx-get="{{ url_for('home.create_poll') }}" 
        hx-target="#create-card" 
        hx-swap="innerHTML" 
        hx-include=".poll-create"             
        hx-confirm="Once you create a poll, you won't be able to change it. Continue?"
      >
        <p class="font-light">Publish</p>
      </button>
    </div>

  </div>

</div>

{% else %}

<div class="flex flex-row text-center items-center justify-center py-16">
  <p class="text-2xl">
    Sorry! We only allow users to make one poll a day.
    <br />
    <br />
    You'll be allowed to make another poll {{ format_time(session.user.next_poll_allowed)}}
  </p>
</div>

{% endif %}
