{% import 'macros.jinja' as macs %}

<div class="flex flex-col fixed justify-center items-center w-screen h-dvh md:h-screen z-10 text-neutral-700 dark:text-neutral-200">

  <div class="flex flex-col w-1/2 h-2/3 rounded-xl border-2 bg-polll-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700 px-6 py-4 space-y-4">

    <!-- Close Modal -->
    <div class="flex">
        <button
            onclick="close_favourite_modal()"
            hx-indicator="#loading-spinner"
            class="px-2 py-0.5 w-fit text-center text-3xl rounded-md hover:dark:bg-neutral-600"
            >
            &times;
        </button>
    </div>

    <!-- Modal Content -->
    <div class="flex flex-col w-full space-y-6 overflow-y-scroll">

        <div class="flex">
            <p class="text-2xl">Favourite up to 3 polls</p>
        </div>

        <!-- Search Bar + Filter -->
        <div class="flex flex-row p-2 border-2 border-neutral-300 dark:border-neutral-500 rounded-xl font-light justify-center items-center">
            <input class="bg-transparent focus:outline-none grow"
            autocomplete="off"
            placeholder="Search..."
            id="favourite-search-bar"
            onkeyup="handleSearchBar('favourite-search-bar', 'poll-list', 'poll')"
            />
            <button 
            class="px-2 py-1 rounded-md border border-neutral-300 hover:bg-neutral-700">
                Filter
            </button>
        </div>


        <!-- Poll List -->
        <div id="poll-list" class="flex flex-col justify-center items-center space-y-2">

            <div class="w-full border border-neutral-500 rounded-xl p-2">
                
                <div class="poll">

                    {% if session.polls_answered %}

                    {% for id, poll in session.polls_answered.items() %}
                    <!-- TODO: Modify to adhere to the -->
                        {% set inFavouriteModal = True %}
                        {% include "results/result-base.html" %}

                    {% endfor %}

                    {% else %}

                    <div class="flex flex-row text-center items-center justify-center py-16 select-none">
                        <p class="text-2xl font-light">You haven't answered any polls yet!</p>
                    </div>

                    {% endif %}
                
                </div>
                
                {% with state=session.state %}
                    {% include "home/load-polls.html" %}
                {% endwith %}
            </div>
        </div>
    
    </div>

    <!-- Favourite Count -->
    <div class="flex">
        <p class="w-full text-right">0/3</p>
    </div>

  </div>

</div>
